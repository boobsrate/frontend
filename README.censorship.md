# Функционал цензуры изображений

## Описание

Данный функционал позволяет скрывать изображения на сайте, заменяя их на заглушки с надписью "CENSORED", если в URL присутствует параметр `?murr_censorship=true`.

## Как это работает

1. Сервис `CensorshipService.js` проверяет наличие параметра `murr_censorship=true` в URL
2. Если параметр присутствует, все изображения заменяются на заглушку с надписью "CENSORED"
3. В верхней части страницы отображается баннер, информирующий о том, что режим цензуры активирован
4. Пользователь может отключить цензуру, нажав на ссылку "Отключить" в баннере
5. При переходе между страницами параметр цензуры сохраняется, что позволяет пользователю просматривать весь сайт в режиме цензуры

## Примеры использования

### Активация режима цензуры

Добавьте параметр `?murr_censorship=true` к URL сайта:

```
https://boobsrate.com/?murr_censorship=true
https://boobsrate.com/top/25?murr_censorship=true
```

### Деактивация режима цензуры

Уберите параметр `?murr_censorship=true` из URL или нажмите на ссылку "Отключить" в баннере.

## Технические детали

### Файлы, задействованные в функционале

1. `src/services/CensorshipService.js` - сервис для проверки режима цензуры
2. `src/assets/censored-improved.svg` - изображение-заглушка для цензуры
3. `src/components/card/CensoredCard.vue` - компонент для отображения цензурированных карточек на главной странице
4. `src/components/card/CensoredCardTop.vue` - компонент для отображения цензурированных карточек в Top и Abyss
5. `src/components/compare/Compare.vue` - модифицирован для использования цензурированных карточек
6. `src/components/top/Top.vue` - модифицирован для использования цензурированных карточек
7. `src/components/abyss/Abyss.vue` - модифицирован для использования цензурированных карточек
8. `src/App.vue` - добавлен баннер цензуры и метод для отключения цензуры
9. `src/components/core/Header.vue` - модифицирован для сохранения параметра цензуры при навигации
10. `src/components/modals/ImageFullscreen.vue` - модифицирован для добавления индикатора загрузки

### Как добавить поддержку цензуры в новые компоненты

Если вы создаете новый компонент, который отображает изображения, рекомендуется создать два компонента:

1. Обычный компонент для отображения изображений в обычном режиме
2. Цензурированный компонент для отображения заглушек в режиме цензуры

Затем в родительском компоненте используйте условный рендеринг для выбора нужного компонента:

```javascript
// Импортируйте компоненты и сервис цензуры
import NormalComponent from "@/components/NormalComponent";
import CensoredComponent from "@/components/CensoredComponent";
import CensorshipService from "@/services/CensorshipService";

export default {
  components: {
    NormalComponent,
    CensoredComponent
  },

  computed: {
    // Проверяет, активирован ли режим цензуры
    isCensored() {
      return CensorshipService.isCensorshipEnabled();
    }
  }
}
```

```html
<!-- Используйте условный рендеринг для выбора компонента -->
<normal-component v-if="!isCensored" :data="data" />
<censored-component v-else :data="data" />
```

Для создания цензурированного компонента можно использовать следующий код:

```javascript
methods: {
  /**
   * Возвращает URL цензурированного изображения
   * @param {boolean} isFullImage - флаг, указывающий, является ли изображение полноразмерным
   * @returns {string} URL цензурированного изображения
   */
  getCensoredImageUrl(isFullImage = false) {
    return require('@/assets/censored-improved.svg');
  }
}
```

## Возможные улучшения

1. Добавить возможность настройки уровня цензуры (например, размытие вместо полной замены)
2. Сохранять настройки цензуры в cookies или localStorage
3. Добавить API для управления цензурой из административной панели
